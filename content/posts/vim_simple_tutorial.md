---
title: Vim 極簡教學
date: 2022-09-13
tags:
  - mix
  - Linux
---

## 簡介

Vim是一種開源的編輯器，是Vi的進化版，由於操作方便，有許多人很愛用，是作為Linux OS主要的編輯器之一。

## 起步

若要使用vim編輯檔案，請在命令列中輸入 `vim xxx.yyy`，如果xxx.yyy存在就會直接進入普通模式並可瀏覽檔案；

如果不存在，就會在儲存後新建一個。

## 模式

Vim主要有四種模式： **普通模式、編輯模式、視覺模式、指令模式**

### 普通模式

初始畫面，可使用方向鍵控制游標，或用Page UP/Down換頁，而任何有關編輯的指令都要在此模式下進行

以下是常用的編輯指令

* `dd` - 刪除整行
* `(n)dd` - 刪除從游標往下數n行
* `yy` - 複製整行
* `(n)yy` - 複製從游標往下數n行
* `u` - 復原(undo)動作
* `Ctrl+r` - 重做(redo)動作
* `.` - 重複上一個動作
* `x` - 刪除字元
* `X` - 刪除前一個字元(Backspace)
* `>>` - 縮排
* `<<` - 反向縮排

### 編輯模式

在普通模式按下 `i(Insert), o(Open), a(Append)` 等鍵就會進入編輯模式，此時可以看到視窗最下方出現 `-- INSERT --`，即可對檔案編輯

按下 `Esc` 即可回到普通模式，此時 `-- INSERT --` 會消失

### 視覺(選取)模式

在普通模式按下 `v` 即可進入視覺模式，此時可以看到視窗最下方出現 `-- VISUAL --`，可以使用方向鍵選取文字，並使用 `w` 選取下一個單字的開頭或 `$` 選取後面整行。

在選取文字後，按 `d` 可刪除選取的文字，如果誤刪，按 `u` 可復原，而移動游標後按 `p` 可貼上文字。

按下 `Esc` 即可回到普通模式，此時 `-- VISUAL --` 會消失

### 指令模式

在普通模式按下 `:` 即可進入指令模式，此時游標會移至最下方並出現冒號，主要使用以下指令

* `:w` - w 代表寫入(write)，即存檔
* `:w xxx.yyy` - 另存新檔，檔名為xxx.yyy

* `:q` - q 代表退出(quit)

可以將以上兩個指令結合 `:wq` 代表儲存並退出

有時可能會遇到沒有權限等問題，在能改變權限的情況下可以在指令後面加上! (`:wq!`) 代表強制執行，如果仍然不行則需要調整使用者權限。

* `:0` - 將游標移至檔案開頭
* `:n` - 將游標移至第n行
* `:$` - 將游標移至檔案最後

